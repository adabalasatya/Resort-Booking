(()=>{var e={};e.id=698,e.ids=[698],e.modules={6037:e=>{"use strict";e.exports=require("mongoose")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5511:e=>{"use strict";e.exports=require("crypto")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},4573:e=>{"use strict";e.exports=require("node:buffer")},7598:e=>{"use strict";e.exports=require("node:crypto")},7975:e=>{"use strict";e.exports=require("node:util")},2512:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=r(260),n=r(8203),i=r(5155),a=r.n(i),o=r(7292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2115)),"C:\\Users\\pardh\\OneDrive\\Desktop\\Next_Resort\\src\\app\\admin\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2804)),"C:\\Users\\pardh\\OneDrive\\Desktop\\Next_Resort\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\pardh\\OneDrive\\Desktop\\Next_Resort\\src\\app\\admin\\page.jsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},812:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,6313,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},4364:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,6013,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},7179:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5197,23)),Promise.resolve().then(r.bind(r,8229))},7795:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,7801,23)),Promise.resolve().then(r.bind(r,1393))},5507:()=>{},2459:()=>{},1393:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(5512),n=r(8009),i=r(6955),a=r.n(i);let o=()=>{let[e,t]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[p,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),x=async s=>{s.preventDefault(),console.log({title:e,price:r,offer:o,amen:l,desc:p,image:m});let n=new FormData;n.append("title",e),n.append("price",r),n.append("offer",o),n.append("desc",p),n.append("amen",l),n.append("image",m);try{let e=await fetch("http://localhost:3000/api/admin/add-product",{method:"POST",body:n});(await e.json()).success&&(alert("Record Added Successfully"),t(""),i(""),d(""),u(""),c(""),h(""))}catch(e){console.log(e)}};return(0,s.jsxs)("div",{className:a().container,children:[(0,s.jsx)("h1",{children:"Add Record"}),(0,s.jsxs)("form",{onSubmit:x,encType:"multipart/form-data",children:[(0,s.jsxs)("div",{className:a().fields,children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("h3",{children:"Title"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Price"}),(0,s.jsx)("input",{type:"number",value:r,onChange:e=>i(e.target.value)})]})]}),(0,s.jsxs)("div",{className:a().fields,children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("h3",{children:"Offer"}),(0,s.jsx)("input",{type:"number",value:o,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("h3",{children:"Amenities"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value)})]})]}),(0,s.jsxs)("div",{className:a().textField,children:[(0,s.jsx)("h3",{children:"Description"}),(0,s.jsx)("textarea",{type:"text",rows:"5",value:p,onChange:e=>u(e.target.value)})]}),(0,s.jsxs)("div",{className:a().textField,children:[(0,s.jsx)("h3",{children:"Upload Image"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>h(e.target.files[0])})]}),(0,s.jsx)("div",{className:a().submit,children:(0,s.jsx)("button",{type:"submit",children:"Submit"})})]})]})}},6955:e=>{e.exports={formContainer:"components_formContainer__bFBnf",formSection:"components_formSection__ngI0H",input:"components_input__L6N5h",regBtn:"components_regBtn__77f_B",container:"components_container__Zpovh",fields:"components_fields__5iy02",textField:"components_textField__1PkQw",submit:"components_submit__dQJWw"}},308:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(5197),n=r.n(s)},5197:(e,t,r)=>{let{createProxy:s}=r(3439);e.exports=s("C:\\Users\\pardh\\OneDrive\\Desktop\\Next_Resort\\node_modules\\next\\dist\\client\\link.js")},2115:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(2740);r(6301);var n=r(3636),i=r(1831),a=r(308);let o=()=>(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"adminnav",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("h2",{children:"Home"})}),(0,s.jsx)("p",{children:"Welcome: Admin "}),(0,s.jsx)(a.default,{href:"/api/auth/signout",className:"link",children:(0,s.jsx)("div",{className:"logout",children:"Logout"})})]})});var d=r(8229);let l=async()=>{let e=await (0,n.j2)();return e||(0,i.redirect)("/login"),(0,s.jsx)("div",{children:"admin"===e.role?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{}),(0,s.jsx)(d.default,{})]}):(0,s.jsxs)("div",{align:"center",children:[(0,s.jsx)("h1",{children:"Not Authorized"}),(0,s.jsx)(a.default,{href:"/login",children:" Login"})]})})}},3636:(e,t,r)=>{"use strict";r.d(t,{LO:()=>c,fG:()=>l,j2:()=>a});var s=r(6414),n=r(1648),i=r(6794);let{auth:a,signIn:o,signOut:d,handlers:{GET:l,POST:c}}=(0,s.Ay)({providers:[(0,n.A)({name:"credentials",async authorize(e){let t=await i.A.findOne({email:e?.email});return t&&e?.password===t.password?{name:t.username,email:t.email,role:t.role}:null}})],secret:process.env.SECRET_KEY,callbacks:{jwt:async({token:e,user:t})=>(t&&(e.userId=t.id,e.username=t.name,e.role=t.role,e.email=t.email),e),session:async({session:e,token:t})=>(e.userId=t.userId,e.username=t.username,e.role=t.role,e.email=t.email,e)}})},8229:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\pardh\\\\OneDrive\\\\Desktop\\\\Next_Resort\\\\src\\\\app\\\\components\\\\AddProduct.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\pardh\\OneDrive\\Desktop\\Next_Resort\\src\\app\\components\\AddProduct.jsx","default")},2804:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>a});var s=r(2740),n=r(1081),i=r.n(n);r(1135);let a={title:"Next Holiday Resort",description:"Generated by create next app"};function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:i().className,children:e})})}},6794:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let{default:s,mongo:n}=r(6037),i=new s.Schema({username:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},role:{type:String,default:"user"},bookings:[{type:s.Schema.Types.ObjectId,ref:"booking"}]}),a=s.models.user||s.model("user",i)},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[989,187,840,205,173],()=>r(2512));module.exports=s})();